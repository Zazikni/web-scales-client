# Web Scales Manager — Web-клиент управления торговыми весами

## Краткое описание проекта

Данный репозиторий содержит frontend-часть информационной системы **Web Scales Manager**, предназначенной для централизованного управления торговыми весами Mertech (в том числе серии M-ER 725) через web-интерфейс.

Проект решает следующие задачи:
- управление списком торговых весов, привязанных к аккаунту пользователя;
- взаимодействие с backend-сервисом для получения и обновления данных устройств;
- просмотр, поиск и редактирование товарной номенклатуры весов;
- загрузка и выгрузка товаров между весами и серверным кэшем;
- настройка автоматического обновления сроков годности товаров.

Проект предназначен для сотрудников розничных торговых предприятий, а также для администраторов и разработчиков, сопровождающих такие системы.

---

## Технологический стек проекта

- **Языки программирования**
  - JavaScript (ES6+)

- **Фреймворки и библиотеки**
  - React
  - React Router
  - TanStack React Query
  - Axios

- **Инструменты и среды**
  - Node.js
  - Vite
  - Git

- **Протоколы и форматы**
  - HTTP / REST API
  - JSON

---

## Структура репозитория

```
├── src/                               # Исходный код frontend-приложения
│   ├── api/                           # API-слой (axios, запросы к backend)
│   │   ├── http.js                    # Единый HTTP-клиент (axios + interceptors)
│   │   ├── auth.js                    # Запросы авторизации (логин/регистрация и т.п.)
│   │   └── devices.js                 # Устройства и товары (список, кэш, upload/fetch, patch)
│   │
│   ├── auth/                          # Экран(ы) авторизации
│   │   └── AuthPage.jsx               # Страница входа/авторизации
│   │
│   ├── devices/                       # Страницы домена "устройства"
│   │   ├── DevicesPage.jsx            # Список устройств, добавление/удаление
│   │   └── DeviceDetailPage.jsx       # Детальная карточка устройства и товаров
│   │
│   ├── components/                    # Переиспользуемые UI-компоненты
│   │   ├── Layout.jsx                 # Общий каркас/разметка страниц
│   │   ├── Modal.jsx                  # Модальные окна
│   │   ├── Toast.jsx                  # Уведомления
│   │   └── ProtectedRoute.jsx         # Защищённые маршруты (проверка авторизации)
│   │
│   ├── query/                         # TanStack React Query: ключи и инвалидации
│   │   ├── keys.js                    # Ключи запросов (devices/device/productsCached/autoUpdate и т.д.)
│   │   └── invalidate.js              # Централизованная инвалидация кэша после мутаций
│   │
│   ├── utils/                         # Вспомогательные утилиты
│   │   ├── token.js                   # Работа с токеном (получение/проверка/очистка)
│   │   ├── datetime.js                # Преобразование дат/времени (UTC → local)
│   │   └── format.js                  # Форматирование значений для UI
│   │
│   ├── assets/                        # Статические ресурсы, используемые в коде (например svg)
│   │   └── react.svg
│   │
│   ├── App.jsx                        # Корневой компонент приложения (роутинг)
│   ├── App.css                        # Стили приложения (уровня App)
│   ├── index.css                      # Глобальные стили
│   └── main.jsx                       # Точка входа (ReactDOM)
│
├── public/                            # Статические ресурсы (доступны без импорта)
├── index.html                         # HTML-шаблон (Vite)
├── vite.config.js                     # Конфигурация сборщика Vite
├── eslint.config.js                   # Конфигурация ESLint
├── package.json                       # Зависимости и npm-скрипты
├── package-lock.json                  # Зафиксированные версии зависимостей
├── .env.example                       # Пример переменных окружения
├── .env                               # Локальная конфигурация (обычно НЕ коммитится)
├── .gitignore                         # Исключения Git
└── README.md                          # Описание проекта
```


# Установка

## Клонирование репозитория

```bash
git clone https://github.com/Zazikni/web-scales-client
```

```bash
cd web-scales-client
```
## Установите зависимости (Node.js 18+):
### Требования к окружению

Для работы с frontend-приложением требуется установленный Node.js версии 18 и выше.

Проверка установленного окружения:

```bash
node --version
```
```bash
npm --version
```
 При наличии Node.js
```bash
npm install
```
## Настройка переменных окружения
### Создайте файл `.env` на основе примера и укажите адрес backend-сервиса:

```env
VITE_API_BASE_URL=http://127.0.0.1:8000
```

## Запуск 
### Режим разработки (демонстрационный)

Для разработки, отладки и демонстрации работы frontend-приложение запускается в режиме разработки:

```bash
npm run dev
```
### Production-сборка (подготовка к публикации)

Для подготовки приложения к эксплуатации и размещения на web-сервере
```bash
npm run build
```
---

## Использование

Приложение позволяет:
- управлять списком торговых весов;
- просматривать и редактировать товары;
- выгружать и загружать данные между сервером и весами;
- настраивать автоматическое обновление сроков годности товаров.

Все изменения товаров сначала сохраняются в серверный кэш и применяются к устройству только после явной команды **«Загрузить в весы»**.

